{% extends "__base.html" %}
{% load i18n %}

{% block title %}{% trans "Update Profile" %} &ndash; {{ block.super }}{% endblock title %}

{% block main %}
    <h3>{% trans "Update Profile" %} <small><a href="{% url 'profile:user-profile' %}">{{ user.username }}</a></small></h3>
    <form action="{% url 'profile:user-profile-update' %}" method="post">
        {% csrf_token %}
        {% include "_input_grid.html" with form=user_profile_form.management_form %}
        {% include "_input_grid.html" with form=user_form %}
        {% include "_input_grid.html" with form=user_profile_form submit_text=_('Update') %}
    </form>



{% for error in user_form.errors %}
<p>{{ error }}</p>
{% endfor %}

{% for error in user_profile_form.errors %}
<p>{{ error }}</p>
{% endfor %}

{% if error %}
<p>{{ error }}</p>
{% endif %}



<form action="{% url 'profile:user-profile-update' %}" method="post" enctype="multipart/form-data">
{% csrf_token %}
{{ user_form.as_p }}

{{ user_profile_form.management_form }}
{% for profile_form in user_profile_form %}
{{ profile_form.id }}
{% if user_profile.is_developer %}
    <p><div class="fieldWrapper">
        {{ profile_form.dev_slug.errors }}
        {{ profile_form.dev_slug.label_tag }}
        {{ profile_form.dev_slug }}
    </div></p>
    <p><div class="fieldWrapper">
        {{ profile_form.dev_website.errors }}
        {{ profile_form.dev_website.label_tag }}
        {{ profile_form.dev_website }}
    </div></p>
    <p><div class="fieldWrapper">
        {{ profile_form.dev_email_support.errors }}
        {{ profile_form.dev_email_support.label_tag }}
        {{ profile_form.dev_email_support }}
    </div></p>
{% endif %}
    <p><div class="fieldWrapper">
        {{ profile_form.profile_pic.errors }}
        {{ profile_form.profile_pic.label_tag }}
        {{ profile_form.profile_pic }}
    </div></p>
{% endfor %}

<input type="submit" value="update" />
</form>

{% endblock %}